{"remainingRequest":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/ParameterSet.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/ParameterSet.vue","mtime":1704903507399},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/babel-loader/lib/index.js","mtime":1703513905197},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js","mtime":1703513905274}],"contextDependencies":[],"result":["\nimport EditParameter from \"./UserProfile/EditParameter.vue\";\nimport axios from 'axios';\nimport { PaperTable } from \"@/components\";\nconst tableColumns = [\n    'Level_Seat_Number',\n    \"Price\",\n    \"Price_Level\",\n  ];\nconst tableData = [];\n\nexport default {\n  components: {\n    EditParameter,\n    PaperTable,\n    \n  },\n  data() {\n      return {\n        avg_day_p: null,\n        dataFromChild: {},\n        table1: {\n          title: \"艙位價格預估\",\n          columns: [...tableColumns],\n          data: [...tableData],\n        },\n        postData: {\n          date: \"2023-12-25\",\n          demand: 180,\n          AbsentRate: 0.09,\n          flight_id: 1,\n\n        },\n      };\n     \n    },\n\n  methods: {\n    fetchData(){\n\n      this.postData.date = this.dataFromChild.date;\n      this.postData.demand = this.dataFromChild.demand;\n      this.postData.AbsentRate = this.dataFromChild.not_show_rate;\n\n      axios.post('http://34.125.243.130:5000/set_parameter', this.postData)\n        .then(res => {\n          // handle the response data\n          // this.avg_day_p = res.data.average_daily_price;\n          console.log(this.avg_day_p);\n          console.log(res.data);\n          tableData.length = 0;\n          for(let i = 0; i < res.data.cabin_info.length; i++) {\n                const inputData = {};\n                inputData.level_seat_number = res.data.cabin_info[i].level_seat_num;\n                inputData.price = res.data.cabin_info[i].price;\n                inputData.price_level = res.data.cabin_info[i].price_level;\n\n                tableData.push(inputData);\n              \n           }\n           this.table1.data = [...tableData];\n           this.avg_day_p = res.data.avaerge_daily_price;\n          // console.log(res.data);\n          console.log(tableData);\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n  submit(data){\n    this.dataFromChild = data;\n    this.fetchData();\n  },\n    \n  },\n};\n  \n",{"version":3,"sources":["ParameterSet.vue"],"names":[],"mappings":";AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ParameterSet.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <edit-parameter @childClick=\"submit\"> </edit-parameter>\n  </div>\n  <hr>\n  <div></div>\n  <div class=\"row\">\n        <div class=\"col-12\">\n        <card :title=\"table1.title\">\n          <div slot=\"raw-content\" class=\"table-responsive\">\n            <paper-table :data=\"table1.data\" :columns=\"table1.columns\">\n            </paper-table>\n            <hr/>\n          <div class=\"cus_eq\"> Average Daily Price:   {{ avg_day_p }}</div>\n          </div>\n          \n        </card>\n      </div>\n      </div>\n  </div>\n  \n</template>\n<script>\nimport EditParameter from \"./UserProfile/EditParameter.vue\";\nimport axios from 'axios';\nimport { PaperTable } from \"@/components\";\nconst tableColumns = [\n    'Level_Seat_Number',\n    \"Price\",\n    \"Price_Level\",\n  ];\nconst tableData = [];\n\nexport default {\n  components: {\n    EditParameter,\n    PaperTable,\n    \n  },\n  data() {\n      return {\n        avg_day_p: null,\n        dataFromChild: {},\n        table1: {\n          title: \"艙位價格預估\",\n          columns: [...tableColumns],\n          data: [...tableData],\n        },\n        postData: {\n          date: \"2023-12-25\",\n          demand: 180,\n          AbsentRate: 0.09,\n          flight_id: 1,\n\n        },\n      };\n     \n    },\n\n  methods: {\n    fetchData(){\n\n      this.postData.date = this.dataFromChild.date;\n      this.postData.demand = this.dataFromChild.demand;\n      this.postData.AbsentRate = this.dataFromChild.not_show_rate;\n\n      axios.post('http://34.125.243.130:5000/set_parameter', this.postData)\n        .then(res => {\n          // handle the response data\n          // this.avg_day_p = res.data.average_daily_price;\n          console.log(this.avg_day_p);\n          console.log(res.data);\n          tableData.length = 0;\n          for(let i = 0; i < res.data.cabin_info.length; i++) {\n                const inputData = {};\n                inputData.level_seat_number = res.data.cabin_info[i].level_seat_num;\n                inputData.price = res.data.cabin_info[i].price;\n                inputData.price_level = res.data.cabin_info[i].price_level;\n\n                tableData.push(inputData);\n              \n           }\n           this.table1.data = [...tableData];\n           this.avg_day_p = res.data.avaerge_daily_price;\n          // console.log(res.data);\n          console.log(tableData);\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n  submit(data){\n    this.dataFromChild = data;\n    this.fetchData();\n  },\n    \n  },\n};\n  \n</script>\n<style></style>\n"]}]}