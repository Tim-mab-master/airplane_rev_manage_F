{"remainingRequest":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/RevenueAnalysis.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/RevenueAnalysis.vue","mtime":1705289106411},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/babel-loader/lib/index.js","mtime":1703513905197},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js","mtime":1703513905274}],"contextDependencies":[],"result":["\nimport { StatsCard, ChartCard } from \"@/components/index\";\nimport { Dropdown, DropdownMenu, DropdownItem, DatePicker, Button } from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport Chartist from \"chartist\";\nimport { PaperTable } from \"@/components\";\nimport axios from 'axios';\n\nconst past_rev =[];\nconst survival_rate =[];\nconst labels= [\n            \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n      ];\nconst season_labels= [\n            \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n      ];\nconst  month_labels= [\n            \"1\",\n            \"2\",\n            \"3\",\n            \"4\",\n            \"5\",\n            \"6\",\n            \"7\",\n            \"8\",\n            \"9\",\n            \"10\",\n            \"11\",\n            \"12\",\n      ];\n\nexport default {\n  components: {\n    StatsCard,\n    ChartCard,\n    PaperTable,\n    Dropdown,\n    DropdownMenu,\n    DropdownItem,\n    DatePicker,\n    Button,\n  },\n  /**\n   * Chart data used to render stats, charts. Should be replaced with server data\n   */\n  data() {\n    return {\n     \n      \n      postData: {\n        time: '',\n      },\n\n      region_rank: {\n        r1:\"台北市\",\n        r2:\"新北市\",\n        r3:\"台南市\",\n        r4:\"高雄市\",\n        r5:\"台中市\",\n        r5:\"其他\",\n\n      },\n      //下拉式選單相關\n      id: null,\n      duration: \"\",\n      \n      season_labels: [\n            \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n      ],\n      month_labels: [\n            \"1\",\n            \"2\",\n            \"3\",\n            \"4\",\n            \"5\",\n            \"6\",\n            \"7\",\n            \"8\",\n            \"9\",\n            \"10\",\n            \"11\",\n            \"12\",\n      ],\n      \n      \n     \n      pastRevChart: {\n        data: {\n          labels: [...labels],\n          series: \n            // [...past_rev],\n            [[33200, 29300, 38000, 48000]],\n            // [230, 293, 380, 480, 503, 553, 600, 664, 698, 710, 736, 795],\n          \n        },\n        options: {\n          seriesBarDistance: 10,\n          axisX: {\n            showGrid: false,\n          },\n          height: \"245px\",\n        },\n      },\n      salesRateChart: {\n        data: {\n          labels: [\n          \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n          ],\n          series: \n            // [...survival_rate],\n            [[0.03, 0.019, 0.028, 0.05]],\n          \n        },\n        options: {\n          seriesBarDistance: 10,\n          axisX: {\n            showGrid: false,\n          },\n          height: \"245px\",\n        },\n      },\n      classRankChart: {\n        data: {\n          labels: [\"56%\", \"6%\", \"29%\", \"6%\", \"3%\"],\n          series: [56, 6, 29, 6, 3],\n        },\n        options: {},\n      },\n      regionRankChart: {\n        data: {\n          labels: [\"36%\", \"24%\", \"26%\", \"11%\", \"3%\", \"3%\"],\n          series: [36, 24, 26, 11, 3, 3],\n        },\n        options: {},\n      },\n      \n    };\n  },\n  methods: {\n    handleCommand(command) {\n            console.log(\"sjlfjasljflasjlfjawlef\");\n            this.id = String(command);\n        },\n    handleCommand2(command) {\n            console.log(\"時間尺度\");\n            if(String(command) == \"s\"){\n              this.duration = \"季\";\n            }else{\n              this.duration = \"月\";\n            }\n            \n        },\n    submit(duration){\n      console.log(\"Clicked Submit with duration:\", duration);\n      // this.pastRevChart.data.labels = [...month_labels];\n      // this.pastRevChart.data.series[0] = [11200, 19300, 8000, 9000, 7200, 6300, 8000, 9200, 7200, 9300, 8000, 6500];\n      // console.log(this.pastRevChart);\n      this.getPastRev(duration);\n      this.getSalesRate(duration);\n      this.getClassRank(duration);\n      this.getRegionRank(duration);\n      \n    },\n\n    // 取得過去收益\n    getPastRev(duration){\n      this.postData.time = duration;\n      const past_rev = [];\n    \n        // 感覺是後端出問題\n        axios.post('http://34.125.243.130:5000/past_revenue',this.postData)\n        .then(res => {\n          // handle the response data\n\n          //時間維度所帶來的 x 長度 （季 = 4; 月 = 12）\n          const pastRev = res.data.past_rev;\n          let time_len = pastRev.length;\n          // console.log(time_len);\n          \n          if(time_len == 4){\n            // this.$set(this.pastRevChart.data.labels, 'labels', season_labels);\n            this.pastRevChart.data.labels = [...season_labels];\n            // labels = season_labels;\n            \n          }else{\n            // this.$set(this.pastRevChart.data.labels, 'labels', month_labels);\n            this.pastRevChart.data.labels = [...month_labels];\n          }\n\n          // console.log(labels);\n          for(let i = 0; i < time_len; i++) {\n            past_rev.push(Number(res.data.past_rev[i])|| 0);\n            \n          }\n          this.pastRevChart.data.series[0] = [...past_rev];\n          // console.log(\"pastSeries\");\n          // console.log(this.pastRevChart.data.series);\n         \n          // console.log(res.data);\n          // console.log(past_rev);\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n\n    // 取得售票率\n    getSalesRate(duration){\n      this.postData.time = duration;\n      const sales_rate = [];\n        // 感覺是後端出問題\n        axios.post('http://34.125.243.130:5000/get_sales_rate',this.postData)\n        .then(res => {\n          // handle the response data\n\n          //時間維度所帶來的 x 長度 （季 = 4; 月 = 12）\n          const salesRate = res.data.sales_rate_list;\n          let time_len = salesRate.length;\n\n          if(time_len == 4){\n            this.salesRateChart.data.labels = [...season_labels];\n          }else{\n            this.salesRateChart.data.labels = [...month_labels];\n          }\n\n          for(let i = 0; i < time_len; i++) {\n            sales_rate.push(Number(res.data.sales_rate_list[i])|| 0);\n            \n          }\n          this.salesRateChart.data.series[0] = [...sales_rate];\n          console.log(res.data);\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n\n    // 取得艙位排名\n    getClassRank(duration){\n      this.postData.time = duration;\n      const class_rank = [];\n      const class_rank_labels = [];\n    \n      // console.log(\"艙位排名\");\n        axios.post('http://34.125.243.130:5000/class_rank',this.postData)\n        .then(res => {\n          // handle the response data\n          // console.log(\"進來了\");\n          // console.log(res);\n          for(let i = 0; i < 5; i++) {\n            class_rank.push(Number(res.data.rank[i].value)|| 0);\n            class_rank_labels.push(res.data.rank[i].rate);\n            \n          }\n          this.classRankChart.data.labels = [...class_rank_labels];\n          this.classRankChart.data.series = [...class_rank];\n          // console.log(\"class_rank\");\n          // console.log(this.classRankChart.data);\n         \n          \n          \n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n     // 取得區域排名\n     getRegionRank(duration){\n      this.postData.time = duration;\n      const region_rank = [];\n      const region_rank_labels = [];\n      const region_rank_name = [];\n    \n      // console.log(\"艙位排名\");\n        axios.post('http://34.125.243.130:5000/region_rank',this.postData)\n        .then(res => {\n          // handle the response data\n          // console.log(\"進來了\");\n          // console.log(res);\n          for(let i = 0; i < 6; i++) {\n            region_rank.push(Number(res.data.rank[i].value)|| 0);\n            region_rank_labels.push(res.data.rank[i].rate);\n            region_rank_name.push(res.data.rank[i].region);     \n          }\n          this.region_rank.r1 = region_rank_name[0];\n          this.region_rank.r2 = region_rank_name[1];\n          this.region_rank.r3 = region_rank_name[2];\n          this.region_rank.r4 = region_rank_name[3];\n          this.region_rank.r5 = region_rank_name[4];\n          this.region_rank.r6 = region_rank_name[5];\n\n          this.regionRankChart.data.labels = [...region_rank_labels];\n          this.regionRankChart.data.series = [...region_rank];\n          // console.log(\"class_rank\");\n          // console.log(this.classRankChart.data);\n         \n          \n          \n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n\n    //\n  },\n  mounted(){\n    this.getPastRev(\"季\");\n    this.getSalesRate(\"季\");\n    this.getClassRank(\"季\");\n    this.getRegionRank(\"季\");\n\n    // this.fetchData();\n  },\n};\n",{"version":3,"sources":["RevenueAnalysis.vue"],"names":[],"mappings":";AA8GA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"RevenueAnalysis.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <div>\n\n    \n       <!-- 下拉式选单 -->\n        <dropdown @command=\"handleCommand\">\n      <span class=\"el-dropdown-link\">\n        選擇航班編號<i class=\"el-icon-arrow-down el-icon--right\"></i>\n      </span>\n        <dropdown-menu slot=\"dropdown\"  >\n            <dropdown-item command=\"MM620\">MM620</dropdown-item>   \n            </dropdown-menu>\n        </dropdown>\n        <input class=\"input\" placeholder=\"航班編號\" type=\"text\" v-model=\"id\" readonly>\n\n        <dropdown @command=\"handleCommand2\">\n      <span class=\"el-dropdown-link\">\n        選擇時間維度<i class=\"el-icon-arrow-down el-icon--right\"></i>\n      </span>\n        <dropdown-menu slot=\"dropdown\"  >\n            <dropdown-item command=\"s\">季</dropdown-item>   \n            <dropdown-item command=\"m\">月</dropdown-item>\n            </dropdown-menu>\n        </dropdown>\n        <input class=\"input\" placeholder=\"時間維度\" type=\"text\" v-model=\"duration\" readonly>\n\n       \n        <button @click=\"submit(duration)\"  class=\"search_button\">查詢</button>\n     \n\n    <!--Charts-->\n    <div class=\"row\">\n      <!-- 分成左右兩半 -->\n\n        <div class=\"col-6\">\n        <chart-card\n          title=\"預估收益\"\n          :chart-data=\"pastRevChart.data\"\n          :chart-options=\"pastRevChart.options\"\n        >\n          <!-- <span slot=\"footer\">\n            <i class=\"ti-check\"></i> Data information certified\n          </span> -->\n          <div slot=\"legend\">\n            <i class=\"fa fa-circle text-info\"></i> 預期收益\n          </div>\n        </chart-card>\n        </div>\n        <div class=\"col-6\">\n        <chart-card\n          title=\"售票率\"\n          :chart-data=\"salesRateChart.data\"\n          :chart-options=\"salesRateChart.options\"\n        >\n          <!-- <span slot=\"footer\">\n            <i class=\"ti-check\"></i> Data information certified\n          </span> -->\n          <div slot=\"legend\">\n            <i class=\"fa fa-circle text-info\"></i> 售票率\n          </div>\n        </chart-card>\n        </div>\n    </div>\n      <div class=\"row\">\n        <div class=\"col-6\">\n          <chart-card\n          title=\"艙位收益分析\"\n          :chart-data=\"classRankChart.data\"\n          chart-type=\"Pie\"\n          >\n          \n          <div slot=\"legend\">\n            <!-- 可以有五種顏色 -->\n            <i class=\"fa fa-circle text-info\"></i> A\n            <i class=\"fa fa-circle\" style=\"color: #F3BB45;\"></i> B\n            <i class=\"fa fa-circle\" style=\"color: #EB5E28;\"></i> C \n            <i class=\"fa fa-circle\" style=\"color: #41B883;\"></i> D \n            <i class=\"fa fa-circle\" style=\"color: #7A9E9F;\"></i> E \n          </div>\n          </chart-card>\n        </div>\n        <div class=\"col-6\">\n          <chart-card\n          title=\"地區收益貢獻度分析\"\n          :chart-data=\"regionRankChart.data\"\n          chart-type=\"Pie\"\n          >\n        \n          <div slot=\"legend\">\n            <i class=\"fa fa-circle text-info\"></i> {{ region_rank.r1 }}\n            <i class=\"fa fa-circle\" style=\"color: #F3BB45;\"></i> {{ region_rank.r2 }}\n            <i class=\"fa fa-circle\" style=\"color: #EB5E28;\"></i> {{ region_rank.r3 }}\n            <i class=\"fa fa-circle\" style=\"color: #41B883;\"></i> {{ region_rank.r4 }}\n            <i class=\"fa fa-circle\" style=\"color: #7A9E9F;\"></i> {{ region_rank.r5 }}\n            <i class=\"fa fa-circle text-muted\" style=\"color: rgba(104, 179, 200, 0.8);\"></i> {{ region_rank.r6 }}\n          </div>\n          </chart-card>\n        </div>\n\n      </div>\n      \n      \n\n     \n\n      \n    \n  </div>\n</template>\n<script>\nimport { StatsCard, ChartCard } from \"@/components/index\";\nimport { Dropdown, DropdownMenu, DropdownItem, DatePicker, Button } from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport Chartist from \"chartist\";\nimport { PaperTable } from \"@/components\";\nimport axios from 'axios';\n\nconst past_rev =[];\nconst survival_rate =[];\nconst labels= [\n            \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n      ];\nconst season_labels= [\n            \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n      ];\nconst  month_labels= [\n            \"1\",\n            \"2\",\n            \"3\",\n            \"4\",\n            \"5\",\n            \"6\",\n            \"7\",\n            \"8\",\n            \"9\",\n            \"10\",\n            \"11\",\n            \"12\",\n      ];\n\nexport default {\n  components: {\n    StatsCard,\n    ChartCard,\n    PaperTable,\n    Dropdown,\n    DropdownMenu,\n    DropdownItem,\n    DatePicker,\n    Button,\n  },\n  /**\n   * Chart data used to render stats, charts. Should be replaced with server data\n   */\n  data() {\n    return {\n     \n      \n      postData: {\n        time: '',\n      },\n\n      region_rank: {\n        r1:\"台北市\",\n        r2:\"新北市\",\n        r3:\"台南市\",\n        r4:\"高雄市\",\n        r5:\"台中市\",\n        r5:\"其他\",\n\n      },\n      //下拉式選單相關\n      id: null,\n      duration: \"\",\n      \n      season_labels: [\n            \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n      ],\n      month_labels: [\n            \"1\",\n            \"2\",\n            \"3\",\n            \"4\",\n            \"5\",\n            \"6\",\n            \"7\",\n            \"8\",\n            \"9\",\n            \"10\",\n            \"11\",\n            \"12\",\n      ],\n      \n      \n     \n      pastRevChart: {\n        data: {\n          labels: [...labels],\n          series: \n            // [...past_rev],\n            [[33200, 29300, 38000, 48000]],\n            // [230, 293, 380, 480, 503, 553, 600, 664, 698, 710, 736, 795],\n          \n        },\n        options: {\n          seriesBarDistance: 10,\n          axisX: {\n            showGrid: false,\n          },\n          height: \"245px\",\n        },\n      },\n      salesRateChart: {\n        data: {\n          labels: [\n          \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n          ],\n          series: \n            // [...survival_rate],\n            [[0.03, 0.019, 0.028, 0.05]],\n          \n        },\n        options: {\n          seriesBarDistance: 10,\n          axisX: {\n            showGrid: false,\n          },\n          height: \"245px\",\n        },\n      },\n      classRankChart: {\n        data: {\n          labels: [\"56%\", \"6%\", \"29%\", \"6%\", \"3%\"],\n          series: [56, 6, 29, 6, 3],\n        },\n        options: {},\n      },\n      regionRankChart: {\n        data: {\n          labels: [\"36%\", \"24%\", \"26%\", \"11%\", \"3%\", \"3%\"],\n          series: [36, 24, 26, 11, 3, 3],\n        },\n        options: {},\n      },\n      \n    };\n  },\n  methods: {\n    handleCommand(command) {\n            console.log(\"sjlfjasljflasjlfjawlef\");\n            this.id = String(command);\n        },\n    handleCommand2(command) {\n            console.log(\"時間尺度\");\n            if(String(command) == \"s\"){\n              this.duration = \"季\";\n            }else{\n              this.duration = \"月\";\n            }\n            \n        },\n    submit(duration){\n      console.log(\"Clicked Submit with duration:\", duration);\n      // this.pastRevChart.data.labels = [...month_labels];\n      // this.pastRevChart.data.series[0] = [11200, 19300, 8000, 9000, 7200, 6300, 8000, 9200, 7200, 9300, 8000, 6500];\n      // console.log(this.pastRevChart);\n      this.getPastRev(duration);\n      this.getSalesRate(duration);\n      this.getClassRank(duration);\n      this.getRegionRank(duration);\n      \n    },\n\n    // 取得過去收益\n    getPastRev(duration){\n      this.postData.time = duration;\n      const past_rev = [];\n    \n        // 感覺是後端出問題\n        axios.post('http://34.125.243.130:5000/past_revenue',this.postData)\n        .then(res => {\n          // handle the response data\n\n          //時間維度所帶來的 x 長度 （季 = 4; 月 = 12）\n          const pastRev = res.data.past_rev;\n          let time_len = pastRev.length;\n          // console.log(time_len);\n          \n          if(time_len == 4){\n            // this.$set(this.pastRevChart.data.labels, 'labels', season_labels);\n            this.pastRevChart.data.labels = [...season_labels];\n            // labels = season_labels;\n            \n          }else{\n            // this.$set(this.pastRevChart.data.labels, 'labels', month_labels);\n            this.pastRevChart.data.labels = [...month_labels];\n          }\n\n          // console.log(labels);\n          for(let i = 0; i < time_len; i++) {\n            past_rev.push(Number(res.data.past_rev[i])|| 0);\n            \n          }\n          this.pastRevChart.data.series[0] = [...past_rev];\n          // console.log(\"pastSeries\");\n          // console.log(this.pastRevChart.data.series);\n         \n          // console.log(res.data);\n          // console.log(past_rev);\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n\n    // 取得售票率\n    getSalesRate(duration){\n      this.postData.time = duration;\n      const sales_rate = [];\n        // 感覺是後端出問題\n        axios.post('http://34.125.243.130:5000/get_sales_rate',this.postData)\n        .then(res => {\n          // handle the response data\n\n          //時間維度所帶來的 x 長度 （季 = 4; 月 = 12）\n          const salesRate = res.data.sales_rate_list;\n          let time_len = salesRate.length;\n\n          if(time_len == 4){\n            this.salesRateChart.data.labels = [...season_labels];\n          }else{\n            this.salesRateChart.data.labels = [...month_labels];\n          }\n\n          for(let i = 0; i < time_len; i++) {\n            sales_rate.push(Number(res.data.sales_rate_list[i])|| 0);\n            \n          }\n          this.salesRateChart.data.series[0] = [...sales_rate];\n          console.log(res.data);\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n\n    // 取得艙位排名\n    getClassRank(duration){\n      this.postData.time = duration;\n      const class_rank = [];\n      const class_rank_labels = [];\n    \n      // console.log(\"艙位排名\");\n        axios.post('http://34.125.243.130:5000/class_rank',this.postData)\n        .then(res => {\n          // handle the response data\n          // console.log(\"進來了\");\n          // console.log(res);\n          for(let i = 0; i < 5; i++) {\n            class_rank.push(Number(res.data.rank[i].value)|| 0);\n            class_rank_labels.push(res.data.rank[i].rate);\n            \n          }\n          this.classRankChart.data.labels = [...class_rank_labels];\n          this.classRankChart.data.series = [...class_rank];\n          // console.log(\"class_rank\");\n          // console.log(this.classRankChart.data);\n         \n          \n          \n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n     // 取得區域排名\n     getRegionRank(duration){\n      this.postData.time = duration;\n      const region_rank = [];\n      const region_rank_labels = [];\n      const region_rank_name = [];\n    \n      // console.log(\"艙位排名\");\n        axios.post('http://34.125.243.130:5000/region_rank',this.postData)\n        .then(res => {\n          // handle the response data\n          // console.log(\"進來了\");\n          // console.log(res);\n          for(let i = 0; i < 6; i++) {\n            region_rank.push(Number(res.data.rank[i].value)|| 0);\n            region_rank_labels.push(res.data.rank[i].rate);\n            region_rank_name.push(res.data.rank[i].region);     \n          }\n          this.region_rank.r1 = region_rank_name[0];\n          this.region_rank.r2 = region_rank_name[1];\n          this.region_rank.r3 = region_rank_name[2];\n          this.region_rank.r4 = region_rank_name[3];\n          this.region_rank.r5 = region_rank_name[4];\n          this.region_rank.r6 = region_rank_name[5];\n\n          this.regionRankChart.data.labels = [...region_rank_labels];\n          this.regionRankChart.data.series = [...region_rank];\n          // console.log(\"class_rank\");\n          // console.log(this.classRankChart.data);\n         \n          \n          \n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n\n    //\n  },\n  mounted(){\n    this.getPastRev(\"季\");\n    this.getSalesRate(\"季\");\n    this.getClassRank(\"季\");\n    this.getRegionRank(\"季\");\n\n    // this.fetchData();\n  },\n};\n</script>\n<style lang=\"scss\" >\n    .input {\n        border-radius: 4px;\n        border: 1px solid #DCDFE6;\n        padding: 8px 4px;\n        margin: 0px 8px 12px 4px;\n        text-align: center;\n    }\n    .search_button {\n        // padding: 0.3rem 18px;\n        border-radius: 4px;\n        border: 1px solid #DCDFE6;\n        margin: 0px 8px;\n        padding: 8px 16px;\n    }\n    .el-input__inner {\n      border: 1px solid #DCDFE6; \n      height: 40px; \n      background-color: #FFF;\n    }\n  </style>\n"]}]}