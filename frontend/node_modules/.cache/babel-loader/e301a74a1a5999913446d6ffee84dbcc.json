{"remainingRequest":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/babel-loader/lib/index.js!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/CRM.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/CRM.vue","mtime":1703791092212},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/.babelrc","mtime":1673336993000},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/babel-loader/lib/index.js","mtime":1703513905197},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js","mtime":1703513905274}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport { StatsCard, ChartCard } from \"@/components/index\";\n// import Chartist from \"chartist\";\nimport { PaperTable } from \"@/components\";\nimport axios from 'axios';\nvar tableColumns = ['CustomerID', \"Customer_name\", \"Gender\", \"PhoneNumber\", \"Birthday\", \"Email\", \"Address\", \"LTV\", \"PCV\", \"RFM\"];\n\n// 'CustomerID': 1,\n//       'Customer_name': 'yen chen',\n//       'Gender': 'male',\n//       'PhoneNumber': '0912345678',\n//       'Birthday': datetime.date(2000, 3, 5),\n//       'Email': 'yen@gmail.com',\n//       'Address': 'nccu, wenshang district, Taipei city',\n//       'LTV': 54069.74752117492,\n//       'PCV': 59851.851851851854,\n//       'RFM': '5'\nvar tableData = [];\naxios.get('http://34.80.114.185:5000/get_customer_info').then(function (res) {\n  // handle the response data\n  for (var i = 0; i < res.data.customer_info.length; i++) {\n    var inputData = {};\n    inputData.customerid = res.data.customer_info[i].CustomerID;\n    inputData.customer_name = res.data.customer_info[i].Customer_name;\n    inputData.gender = res.data.customer_info[i].Gender;\n    inputData.phonenumber = res.data.customer_info[i].PhoneNumber;\n    inputData.birthday = res.data.customer_info[i].Birthday;\n    inputData.email = res.data.customer_info[i].Email;\n    inputData.address = res.data.customer_info[i].Address;\n    inputData.ltv = res.data.customer_info[i].LTV;\n    inputData.pcv = res.data.customer_info[i].PCV;\n    inputData.rfm = res.data.customer_info[i].RFM;\n    tableData.push(inputData);\n  }\n\n  // console.log(res.data);\n  console.log(tableData);\n}).catch(function (error) {\n  // handle errors\n  console.error('Error fetching data:', error);\n});\nvar retention_rate = [];\naxios.get('http://34.80.114.185:5000/get_retention_rate').then(function (res) {\n  // handle the response data\n  retention_rate.push(Number(res.data.retention_rate[\"2023_Q1\"]) || 0);\n  retention_rate.push(Number(res.data.retention_rate[\"2023_Q2\"]) || 0);\n  retention_rate.push(Number(res.data.retention_rate[\"2023_Q3\"]) || 0);\n  retention_rate.push(Number(res.data.retention_rate[\"2023_Q4\"]) || 0);\n  console.log(res.data);\n  console.log(res.data.retention_rate[\"2023_Q1\"]);\n  console.log(retention_rate);\n\n  // console.log(res.data);\n  console.log();\n}).catch(function (error) {\n  // handle errors\n  console.error('Error fetching data:', error);\n});\nvar survival_rate = [];\naxios.get('http://34.80.114.185:5000/get_survival_rate').then(function (res) {\n  // handle the response data\n  survival_rate.push(Number(res.data.survival_rate[\"2023_Q1\"]) || 0);\n  survival_rate.push(Number(res.data.survival_rate[\"2023_Q2\"]) || 0);\n  survival_rate.push(Number(res.data.survival_rate[\"2023_Q3\"]) || 0);\n  survival_rate.push(Number(res.data.survival_rate[\"2023_Q4\"]) || 0);\n\n  // console.log(res.data);\n  // console.log(res.data.survival_rate[\"2023_Q1\"]);\n  // console.log(survival_rate);\n}).catch(function (error) {\n  // handle errors\n  console.error('Error fetching data:', error);\n});\nexport default {\n  components: {\n    StatsCard: StatsCard,\n    ChartCard: ChartCard,\n    PaperTable: PaperTable\n  },\n  /**\n   * Chart data used to render stats, charts. Should be replaced with server data\n   */\n  data: function data() {\n    return {\n      table1: {\n        title: \"顧客資訊\",\n        subTitle: \"\",\n        columns: [].concat(tableColumns),\n        data: [].concat(tableData)\n      },\n      retentionChart: {\n        data: {\n          labels: [\"2023 Q1\", \"2023 Q2\", \"2023 Q3\", \"2023 Q4\"],\n          series: [[].concat(retention_rate) // [230, 293, 380, 480, 503, 553, 600, 664, 698, 710, 736, 795],\n          ]\n        },\n        options: {\n          seriesBarDistance: 10,\n          axisX: {\n            showGrid: false\n          },\n          height: \"245px\"\n        }\n      },\n      survivalChart: {\n        data: {\n          labels: [\"2023 Q1\", \"2023 Q2\", \"2023 Q3\", \"2023 Q4\"],\n          series: [[].concat(survival_rate) // [230, 293, 380, 480, 503, 553, 600, 664, 698, 710, 736, 795],\n          ]\n        },\n        options: {\n          seriesBarDistance: 10,\n          axisX: {\n            showGrid: false\n          },\n          height: \"245px\"\n        }\n      },\n      customer_equity: 150000\n    };\n  },\n  methods: {},\n  mounted: function mounted() {\n    // this.fetchData();\n  }\n};",{"version":3,"names":["StatsCard","ChartCard","PaperTable","axios","tableColumns","tableData","get","then","res","i","data","customer_info","length","inputData","customerid","CustomerID","customer_name","Customer_name","gender","Gender","phonenumber","PhoneNumber","birthday","Birthday","email","Email","address","Address","ltv","LTV","pcv","PCV","rfm","RFM","push","console","log","catch","error","retention_rate","Number","survival_rate","components","table1","title","subTitle","columns","concat","retentionChart","labels","series","options","seriesBarDistance","axisX","showGrid","height","survivalChart","customer_equity","methods","mounted"],"sources":["src/pages/CRM.vue"],"sourcesContent":["<template>\n  <div>\n\n\n    <!--Charts-->\n    <div class=\"row\">\n      <!-- 分成左右兩半 -->\n\n        <div class=\"col-6\">\n        <chart-card\n          title=\"每期留存率\"\n          sub-title=\"Retention Rate\"\n          :chart-data=\"retentionChart.data\"\n          :chart-options=\"retentionChart.options\"\n        >\n          <!-- <span slot=\"footer\">\n            <i class=\"ti-check\"></i> Data information certified\n          </span> -->\n          <div slot=\"legend\">\n            <i class=\"fa fa-circle text-info\"></i> 留存率\n          </div>\n        </chart-card>\n        </div>\n        <div class=\"col-6\">\n        <chart-card\n          title=\"每期存活率\"\n          sub-title=\"Survival Rate\"\n          :chart-data=\"survivalChart.data\"\n          :chart-options=\"survivalChart.options\"\n        >\n          <!-- <span slot=\"footer\">\n            <i class=\"ti-check\"></i> Data information certified\n          </span> -->\n          <div slot=\"legend\">\n            <i class=\"fa fa-circle text-info\"></i> 存活率\n          </div>\n        </chart-card>\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-12\">\n        <card :title=\"table1.title\">\n          <div slot=\"raw-content\" class=\"table-responsive\">\n            <paper-table :data=\"table1.data\" :columns=\"table1.columns\">\n            </paper-table>\n            <hr/>\n          <div class=\"cus_eq\"> Customer Equity: {{ customer_equity }}</div>\n          </div>\n          \n        </card>\n      </div>\n      </div>\n      \n\n     \n\n      \n    \n  </div>\n</template>\n<script>\nimport { StatsCard, ChartCard } from \"@/components/index\";\n// import Chartist from \"chartist\";\nimport { PaperTable } from \"@/components\";\nimport axios from 'axios';\nconst tableColumns = [\n    'CustomerID',\n    \"Customer_name\",\n    \"Gender\",\n    \"PhoneNumber\",\n    \"Birthday\",\n    \"Email\",\n    \"Address\",\n    \"LTV\",\n    \"PCV\",\n    \"RFM\",\n\n  ];\n\n  // 'CustomerID': 1,\n  //       'Customer_name': 'yen chen',\n  //       'Gender': 'male',\n  //       'PhoneNumber': '0912345678',\n  //       'Birthday': datetime.date(2000, 3, 5),\n  //       'Email': 'yen@gmail.com',\n  //       'Address': 'nccu, wenshang district, Taipei city',\n  //       'LTV': 54069.74752117492,\n  //       'PCV': 59851.851851851854,\n  //       'RFM': '5'\nconst tableData = [];\naxios.get('http://34.80.114.185:5000/get_customer_info')\n        .then(res => {\n          // handle the response data\n          for(let i = 0; i < res.data.customer_info.length; i++) {\n                const inputData = {};\n                inputData.customerid = res.data.customer_info[i].CustomerID;\n                inputData.customer_name = res.data.customer_info[i].Customer_name;\n                inputData.gender = res.data.customer_info[i].Gender;\n                inputData.phonenumber = res.data.customer_info[i].PhoneNumber;\n                inputData.birthday = res.data.customer_info[i].Birthday;\n                inputData.email = res.data.customer_info[i].Email;\n                inputData.address = res.data.customer_info[i].Address;\n                inputData.ltv = res.data.customer_info[i].LTV;\n                inputData.pcv = res.data.customer_info[i].PCV;\n                inputData.rfm = res.data.customer_info[i].RFM;\n\n\n                tableData.push(inputData);\n              \n           }\n\n         \n          // console.log(res.data);\n          console.log(tableData);\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n        const retention_rate = [];\n        axios.get('http://34.80.114.185:5000/get_retention_rate')\n        .then(res => {\n          // handle the response data\n          retention_rate.push(Number(res.data.retention_rate[\"2023_Q1\"])|| 0);\n          retention_rate.push(Number(res.data.retention_rate[\"2023_Q2\"])|| 0);\n          retention_rate.push(Number(res.data.retention_rate[\"2023_Q3\"])|| 0);\n          retention_rate.push(Number(res.data.retention_rate[\"2023_Q4\"])|| 0);\n          console.log(res.data);\n          console.log(res.data.retention_rate[\"2023_Q1\"]);\n          console.log(retention_rate);\n           \n\n         \n          // console.log(res.data);\n          console.log();\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n\n        const survival_rate = [];\n        axios.get('http://34.80.114.185:5000/get_survival_rate')\n        .then(res => {\n          // handle the response data\n          survival_rate.push(Number(res.data.survival_rate[\"2023_Q1\"])|| 0);\n          survival_rate.push(Number(res.data.survival_rate[\"2023_Q2\"])|| 0);\n          survival_rate.push(Number(res.data.survival_rate[\"2023_Q3\"])|| 0);\n          survival_rate.push(Number(res.data.survival_rate[\"2023_Q4\"])|| 0);\n              \n           \n\n          // console.log(res.data);\n          // console.log(res.data.survival_rate[\"2023_Q1\"]);\n          // console.log(survival_rate);\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n\nexport default {\n  components: {\n    StatsCard,\n    ChartCard,\n    PaperTable,\n  },\n  /**\n   * Chart data used to render stats, charts. Should be replaced with server data\n   */\n  data() {\n    return {\n      \n      table1: {\n          title: \"顧客資訊\",\n          subTitle: \"\",\n          columns: [...tableColumns],\n          data: [...tableData],\n        },\n      \n     \n      retentionChart: {\n        data: {\n          labels: [\n            \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n          ],\n          series: [\n            [...retention_rate],\n            // [230, 293, 380, 480, 503, 553, 600, 664, 698, 710, 736, 795],\n          ],\n        },\n        options: {\n          seriesBarDistance: 10,\n          axisX: {\n            showGrid: false,\n          },\n          height: \"245px\",\n        },\n      },\n      survivalChart: {\n        data: {\n          labels: [\n          \"2023 Q1\",\n            \"2023 Q2\",\n            \"2023 Q3\",\n            \"2023 Q4\",\n          ],\n          series: [\n            [...survival_rate],\n            // [230, 293, 380, 480, 503, 553, 600, 664, 698, 710, 736, 795],\n          ],\n        },\n        options: {\n          seriesBarDistance: 10,\n          axisX: {\n            showGrid: false,\n          },\n          height: \"245px\",\n        },\n      },\n      customer_equity: 150000,\n      \n    };\n  },\n  methods: {\n    \n  },\n  mounted(){\n    // this.fetchData();\n  },\n};\n</script>\n<style lang=\"scss\">\n  .cus_eq {\n    margin: 10px;\n    font-size: 20px;\n  }\n\n</style>\n"],"mappings":";AA6DA,SAAAA,SAAA,EAAAC,SAAA;AACA;AACA,SAAAC,UAAA;AACA,OAAAC,KAAA;AACA,IAAAC,YAAA,IACA,cACA,iBACA,UACA,eACA,YACA,SACA,WACA,OACA,OACA,MAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAAC,SAAA;AACAF,KAAA,CAAAG,GAAA,gDACAC,IAAA,WAAAC,GAAA;EACA;EACA,SAAAC,CAAA,MAAAA,CAAA,GAAAD,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAC,MAAA,EAAAH,CAAA;IACA,IAAAI,SAAA;IACAA,SAAA,CAAAC,UAAA,GAAAN,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAM,UAAA;IACAF,SAAA,CAAAG,aAAA,GAAAR,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAQ,aAAA;IACAJ,SAAA,CAAAK,MAAA,GAAAV,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAU,MAAA;IACAN,SAAA,CAAAO,WAAA,GAAAZ,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAY,WAAA;IACAR,SAAA,CAAAS,QAAA,GAAAd,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAc,QAAA;IACAV,SAAA,CAAAW,KAAA,GAAAhB,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAgB,KAAA;IACAZ,SAAA,CAAAa,OAAA,GAAAlB,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAkB,OAAA;IACAd,SAAA,CAAAe,GAAA,GAAApB,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAoB,GAAA;IACAhB,SAAA,CAAAiB,GAAA,GAAAtB,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAsB,GAAA;IACAlB,SAAA,CAAAmB,GAAA,GAAAxB,GAAA,CAAAE,IAAA,CAAAC,aAAA,CAAAF,CAAA,EAAAwB,GAAA;IAGA5B,SAAA,CAAA6B,IAAA,CAAArB,SAAA;EAEA;;EAGA;EACAsB,OAAA,CAAAC,GAAA,CAAA/B,SAAA;AACA,GACAgC,KAAA,WAAAC,KAAA;EACA;EACAH,OAAA,CAAAG,KAAA,yBAAAA,KAAA;AACA;AACA,IAAAC,cAAA;AACApC,KAAA,CAAAG,GAAA,iDACAC,IAAA,WAAAC,GAAA;EACA;EACA+B,cAAA,CAAAL,IAAA,CAAAM,MAAA,CAAAhC,GAAA,CAAAE,IAAA,CAAA6B,cAAA;EACAA,cAAA,CAAAL,IAAA,CAAAM,MAAA,CAAAhC,GAAA,CAAAE,IAAA,CAAA6B,cAAA;EACAA,cAAA,CAAAL,IAAA,CAAAM,MAAA,CAAAhC,GAAA,CAAAE,IAAA,CAAA6B,cAAA;EACAA,cAAA,CAAAL,IAAA,CAAAM,MAAA,CAAAhC,GAAA,CAAAE,IAAA,CAAA6B,cAAA;EACAJ,OAAA,CAAAC,GAAA,CAAA5B,GAAA,CAAAE,IAAA;EACAyB,OAAA,CAAAC,GAAA,CAAA5B,GAAA,CAAAE,IAAA,CAAA6B,cAAA;EACAJ,OAAA,CAAAC,GAAA,CAAAG,cAAA;;EAIA;EACAJ,OAAA,CAAAC,GAAA;AACA,GACAC,KAAA,WAAAC,KAAA;EACA;EACAH,OAAA,CAAAG,KAAA,yBAAAA,KAAA;AACA;AAEA,IAAAG,aAAA;AACAtC,KAAA,CAAAG,GAAA,gDACAC,IAAA,WAAAC,GAAA;EACA;EACAiC,aAAA,CAAAP,IAAA,CAAAM,MAAA,CAAAhC,GAAA,CAAAE,IAAA,CAAA+B,aAAA;EACAA,aAAA,CAAAP,IAAA,CAAAM,MAAA,CAAAhC,GAAA,CAAAE,IAAA,CAAA+B,aAAA;EACAA,aAAA,CAAAP,IAAA,CAAAM,MAAA,CAAAhC,GAAA,CAAAE,IAAA,CAAA+B,aAAA;EACAA,aAAA,CAAAP,IAAA,CAAAM,MAAA,CAAAhC,GAAA,CAAAE,IAAA,CAAA+B,aAAA;;EAIA;EACA;EACA;AACA,GACAJ,KAAA,WAAAC,KAAA;EACA;EACAH,OAAA,CAAAG,KAAA,yBAAAA,KAAA;AACA;AAEA;EACAI,UAAA;IACA1C,SAAA,EAAAA,SAAA;IACAC,SAAA,EAAAA,SAAA;IACAC,UAAA,EAAAA;EACA;EACA;AACA;AACA;EACAQ,IAAA,WAAAA,KAAA;IACA;MAEAiC,MAAA;QACAC,KAAA;QACAC,QAAA;QACAC,OAAA,KAAAC,MAAA,CAAA3C,YAAA;QACAM,IAAA,KAAAqC,MAAA,CAAA1C,SAAA;MACA;MAGA2C,cAAA;QACAtC,IAAA;UACAuC,MAAA,GACA,WACA,WACA,WACA,UACA;UACAC,MAAA,MAAAH,MAAA,CACAR,cAAA,EACA;UAAA;QAEA;QACAY,OAAA;UACAC,iBAAA;UACAC,KAAA;YACAC,QAAA;UACA;UACAC,MAAA;QACA;MACA;MACAC,aAAA;QACA9C,IAAA;UACAuC,MAAA,GACA,WACA,WACA,WACA,UACA;UACAC,MAAA,MAAAH,MAAA,CACAN,aAAA,EACA;UAAA;QAEA;QACAU,OAAA;UACAC,iBAAA;UACAC,KAAA;YACAC,QAAA;UACA;UACAC,MAAA;QACA;MACA;MACAE,eAAA;IAEA;EACA;EACAC,OAAA,GAEA;EACAC,OAAA,WAAAA,QAAA;IACA;EAAA;AAEA"}]}