{"remainingRequest":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/babel-loader/lib/index.js!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/LeftSeatSearch.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/LeftSeatSearch.vue","mtime":1705149894353},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/.babelrc","mtime":1673336993000},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/babel-loader/lib/index.js","mtime":1703513905197},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js","mtime":1703513905274}],"contextDependencies":[],"result":["import \"core-js/modules/es7.string.pad-start\";\nimport { PaperTable } from \"@/components\";\n// 在你的组件中引入需要的 Element UI 组件和样式\nimport { Dropdown, DropdownMenu, DropdownItem, DatePicker, Button } from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport axios from 'axios';\nimport NotificationTemplate from \"./Notifications/NotificationOrder\";\nexport default {\n  components: {\n    PaperTable: PaperTable,\n    Dropdown: Dropdown,\n    DropdownMenu: DropdownMenu,\n    DropdownItem: DropdownItem,\n    DatePicker: DatePicker,\n    Button: Button\n  },\n  data: function data() {\n    return {\n      postData: {\n        flight_code: '',\n        date: ''\n      },\n      //下拉式選單相關\n      id: null,\n      flight_date: \"\",\n      left_num: null,\n      order_num: null,\n      order_rate: null,\n      search_date: \"XXXX/XX/XX\"\n    };\n  },\n  methods: {\n    handleCommand: function handleCommand(command) {\n      console.log(\"sjlfjasljflasjlfjawlef\");\n      this.id = String(command);\n    },\n    formatDateString: function formatDateString(inputDateString) {\n      // 创建 Date 对象\n      var dateObject = new Date(inputDateString);\n\n      // 获取年、月、日\n      var year = dateObject.getFullYear();\n      var month = String(dateObject.getMonth() + 1).padStart(2, '0'); // 月份从0开始，需要加1\n      var day = String(dateObject.getDate()).padStart(2, '0');\n\n      // 格式化为字符串\n      var formattedDateString = \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n      return formattedDateString;\n    },\n    // 跳出通知\n    notifyVue: function notifyVue(verticalAlign, horizontalAlign) {\n      var color = Math.floor(Math.random() * 4 + 1);\n      this.$notify({\n        component: NotificationTemplate,\n        icon: \"ti-search\",\n        horizontalAlign: horizontalAlign,\n        verticalAlign: verticalAlign,\n        type: this.type[color]\n      });\n    },\n    submit: function submit() {\n      var _this = this;\n      this.postData.flight_code = \"MM620\";\n      // 之後記得把日期加上去\n      this.postData.date = this.flight_date;\n      // this.postData.flight_id = \"1\";\n      // this.postData.date = \"2023/1/1\";\n\n      console.log(this.postData);\n      // console.log(this.postData);\n      axios.post('http://34.125.243.130:5000/get_left_seat', this.postData).then(function (res) {\n        // 请求成功时更新数据\n        console.log(res.data.date);\n        _this.search_date = _this.formatDateString(res.data.date);\n        // this.search_date = this.formatDateString(res.data.date);\n        _this.left_num = res.data.vacant_num;\n        _this.order_num = res.data.ordered_num;\n        _this.order_rate = res.data.ordered_percentage_ratio;\n        console.log(res.data);\n      }).catch(function (error) {\n        // 请求失败时处理错误\n        console.error('请求失败：', error);\n      });\n\n      // ...其他组件方法\n    }\n  }\n};",{"version":3,"names":["PaperTable","Dropdown","DropdownMenu","DropdownItem","DatePicker","Button","axios","NotificationTemplate","components","data","postData","flight_code","date","id","flight_date","left_num","order_num","order_rate","search_date","methods","handleCommand","command","console","log","String","formatDateString","inputDateString","dateObject","Date","year","getFullYear","month","getMonth","padStart","day","getDate","formattedDateString","concat","notifyVue","verticalAlign","horizontalAlign","color","Math","floor","random","$notify","component","icon","type","submit","_this","post","then","res","vacant_num","ordered_num","ordered_percentage_ratio","catch","error"],"sources":["src/pages/LeftSeatSearch.vue"],"sourcesContent":["<template>\n    <div>\n    <div>\n    <!-- 下拉式选单 -->\n    <dropdown @command=\"handleCommand\">\n  <span class=\"el-dropdown-link\">\n    選擇航班編號<i class=\"el-icon-arrow-down el-icon--right\"></i>\n  </span>\n    <dropdown-menu slot=\"dropdown\"  >\n        <dropdown-item command=\"MM620\">MM620</dropdown-item>   \n        </dropdown-menu>\n    </dropdown>\n    <input class=\"input\" placeholder=\"航班編號\" type=\"text\" v-model=\"id\" readonly>\n\n    <date-picker\n      v-model=\"flight_date\"\n      type=\"date\"\n      placeholder=\"選擇日期\">\n    </date-picker>\n\n    <!-- @click.native=\"notifyVue('top', 'center')\" -->\n    <!-- 按钮 -->\n    <button @click=\"submit\"  class=\"search_button\">查詢</button>\n  </div>\n  <hr>\n    <div>\n      <div class=\"left_result_title\">剩餘機位查詢結果</div>\n      <div class=\"left_result\">{{ search_date }} 機位狀況</div>\n      <div class=\"left_result\">剩餘機位數量： {{ left_num }}</div>\n      <div class=\"left_result\">已預訂機位數量： {{ order_num }}</div>\n      <div class=\"left_result\">預訂率： {{ order_rate }}</div>\n\n      \n\n     \n\n      \n  \n      \n    </div>\n    </div>\n  </template>\n\n\n  <script>\n  import { PaperTable } from \"@/components\";\n  // 在你的组件中引入需要的 Element UI 组件和样式\n  import { Dropdown, DropdownMenu, DropdownItem, DatePicker, Button } from 'element-ui';\n  import 'element-ui/lib/theme-chalk/index.css';\n  import axios from 'axios';\n  import NotificationTemplate from \"./Notifications/NotificationOrder\";\n\n  \n  \n  export default {\n    components: {\n      PaperTable,\n      Dropdown,\n      DropdownMenu,\n      DropdownItem,\n      DatePicker,\n      Button,\n    },\n    data() {\n      return {\n        postData: {\n          flight_code: '',\n            date: '',\n        },\n        //下拉式選單相關\n        id: null,\n        flight_date: \"\",\n        left_num: null,\n        order_num: null,\n        order_rate: null,\n        search_date: \"XXXX/XX/XX\",\n       \n      };\n     \n    },\n    methods: {\n        handleCommand(command) {\n            console.log(\"sjlfjasljflasjlfjawlef\");\n            this.id = String(command);\n        },\n\n        formatDateString(inputDateString) {\n          // 创建 Date 对象\n          const dateObject = new Date(inputDateString);\n\n          // 获取年、月、日\n          const year = dateObject.getFullYear();\n          const month = String(dateObject.getMonth() + 1).padStart(2, '0'); // 月份从0开始，需要加1\n          const day = String(dateObject.getDate()).padStart(2, '0');\n\n          // 格式化为字符串\n          const formattedDateString = `${year}-${month}-${day}`;\n\n          return formattedDateString;\n        },\n        // 跳出通知\n        notifyVue(verticalAlign, horizontalAlign) {\n            const color = Math.floor(Math.random() * 4 + 1);\n            this.$notify({\n                component: NotificationTemplate,\n                icon: \"ti-search\",\n                horizontalAlign: horizontalAlign,\n                verticalAlign: verticalAlign,\n                type: this.type[color],\n            });\n        },\n        submit() {\n            this.postData.flight_code = \"MM620\";\n            // 之後記得把日期加上去\n            this.postData.date = this.flight_date;\n            // this.postData.flight_id = \"1\";\n            // this.postData.date = \"2023/1/1\";\n\n            console.log( this.postData);\n            // console.log(this.postData);\n            axios.post('http://34.125.243.130:5000/get_left_seat', this.postData)\n            .then(res => {\n            // 请求成功时更新数据\n              console.log(res.data.date);\n              this.search_date = this.formatDateString(res.data.date);\n              // this.search_date = this.formatDateString(res.data.date);\n              this.left_num = res.data.vacant_num;\n              this.order_num = res.data.ordered_num;\n              this.order_rate = res.data.ordered_percentage_ratio;\n              console.log(res.data);\n\n            })\n            .catch(error => {\n            // 请求失败时处理错误\n                console.error('请求失败：', error);\n            });\n\n            \n    // ...其他组件方法\n     },\n    },\n  };\n  </script>\n  <style lang=\"scss\" >\n    .input {\n        border-radius: 4px;\n        border: 1px solid #DCDFE6;\n        padding: 8px 4px;\n        margin: 0px 8px 12px 4px;\n        padding: 8px 16px;\n        text-align: center;\n    }\n    .search_button {\n        // padding: 0.3rem 18px;\n        border-radius: 4px;\n        border: 1px solid #DCDFE6;\n        margin: 0px 8px;\n    }\n    .el-input__inner {\n      border: 1px solid #DCDFE6; \n      height: 40px; \n      background-color: #FFF;\n    }\n    .left_result {\n      font-size: 20px;\n    }\n    .left_result_title {\n      font-size: 26px;\n      font-weight: 400;\n      margin: 8px 0px;\n\n    }\n  </style>\n  "],"mappings":";AA6CA,SAAAA,UAAA;AACA;AACA,SAAAC,QAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,UAAA,EAAAC,MAAA;AACA;AACA,OAAAC,KAAA;AACA,OAAAC,oBAAA;AAIA;EACAC,UAAA;IACAR,UAAA,EAAAA,UAAA;IACAC,QAAA,EAAAA,QAAA;IACAC,YAAA,EAAAA,YAAA;IACAC,YAAA,EAAAA,YAAA;IACAC,UAAA,EAAAA,UAAA;IACAC,MAAA,EAAAA;EACA;EACAI,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;QACAC,WAAA;QACAC,IAAA;MACA;MACA;MACAC,EAAA;MACAC,WAAA;MACAC,QAAA;MACAC,SAAA;MACAC,UAAA;MACAC,WAAA;IAEA;EAEA;EACAC,OAAA;IACAC,aAAA,WAAAA,cAAAC,OAAA;MACAC,OAAA,CAAAC,GAAA;MACA,KAAAV,EAAA,GAAAW,MAAA,CAAAH,OAAA;IACA;IAEAI,gBAAA,WAAAA,iBAAAC,eAAA;MACA;MACA,IAAAC,UAAA,OAAAC,IAAA,CAAAF,eAAA;;MAEA;MACA,IAAAG,IAAA,GAAAF,UAAA,CAAAG,WAAA;MACA,IAAAC,KAAA,GAAAP,MAAA,CAAAG,UAAA,CAAAK,QAAA,QAAAC,QAAA;MACA,IAAAC,GAAA,GAAAV,MAAA,CAAAG,UAAA,CAAAQ,OAAA,IAAAF,QAAA;;MAEA;MACA,IAAAG,mBAAA,MAAAC,MAAA,CAAAR,IAAA,OAAAQ,MAAA,CAAAN,KAAA,OAAAM,MAAA,CAAAH,GAAA;MAEA,OAAAE,mBAAA;IACA;IACA;IACAE,SAAA,WAAAA,UAAAC,aAAA,EAAAC,eAAA;MACA,IAAAC,KAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAD,IAAA,CAAAE,MAAA;MACA,KAAAC,OAAA;QACAC,SAAA,EAAAvC,oBAAA;QACAwC,IAAA;QACAP,eAAA,EAAAA,eAAA;QACAD,aAAA,EAAAA,aAAA;QACAS,IAAA,OAAAA,IAAA,CAAAP,KAAA;MACA;IACA;IACAQ,MAAA,WAAAA,OAAA;MAAA,IAAAC,KAAA;MACA,KAAAxC,QAAA,CAAAC,WAAA;MACA;MACA,KAAAD,QAAA,CAAAE,IAAA,QAAAE,WAAA;MACA;MACA;;MAEAQ,OAAA,CAAAC,GAAA,MAAAb,QAAA;MACA;MACAJ,KAAA,CAAA6C,IAAA,kDAAAzC,QAAA,EACA0C,IAAA,WAAAC,GAAA;QACA;QACA/B,OAAA,CAAAC,GAAA,CAAA8B,GAAA,CAAA5C,IAAA,CAAAG,IAAA;QACAsC,KAAA,CAAAhC,WAAA,GAAAgC,KAAA,CAAAzB,gBAAA,CAAA4B,GAAA,CAAA5C,IAAA,CAAAG,IAAA;QACA;QACAsC,KAAA,CAAAnC,QAAA,GAAAsC,GAAA,CAAA5C,IAAA,CAAA6C,UAAA;QACAJ,KAAA,CAAAlC,SAAA,GAAAqC,GAAA,CAAA5C,IAAA,CAAA8C,WAAA;QACAL,KAAA,CAAAjC,UAAA,GAAAoC,GAAA,CAAA5C,IAAA,CAAA+C,wBAAA;QACAlC,OAAA,CAAAC,GAAA,CAAA8B,GAAA,CAAA5C,IAAA;MAEA,GACAgD,KAAA,WAAAC,KAAA;QACA;QACApC,OAAA,CAAAoC,KAAA,UAAAA,KAAA;MACA;;MAGA;IACA;EACA;AACA"}]}