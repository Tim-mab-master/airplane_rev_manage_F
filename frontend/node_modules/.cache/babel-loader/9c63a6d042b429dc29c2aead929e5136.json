{"remainingRequest":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/babel-loader/lib/index.js!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/ParameterSet.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/src/pages/ParameterSet.vue","mtime":1704903507399},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/.babelrc","mtime":1673336993000},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/babel-loader/lib/index.js","mtime":1703513905197},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1703513905140},{"path":"/Users/wanchengting/Desktop/數位商務應用/airplane_rev_manage_F/frontend/node_modules/vue-loader/lib/index.js","mtime":1703513905274}],"contextDependencies":[],"result":["import EditParameter from \"./UserProfile/EditParameter.vue\";\nimport axios from 'axios';\nimport { PaperTable } from \"@/components\";\nvar tableColumns = ['Level_Seat_Number', \"Price\", \"Price_Level\"];\nvar tableData = [];\nexport default {\n  components: {\n    EditParameter: EditParameter,\n    PaperTable: PaperTable\n  },\n  data: function data() {\n    return {\n      avg_day_p: null,\n      dataFromChild: {},\n      table1: {\n        title: \"艙位價格預估\",\n        columns: [].concat(tableColumns),\n        data: [].concat(tableData)\n      },\n      postData: {\n        date: \"2023-12-25\",\n        demand: 180,\n        AbsentRate: 0.09,\n        flight_id: 1\n      }\n    };\n  },\n  methods: {\n    fetchData: function fetchData() {\n      var _this = this;\n      this.postData.date = this.dataFromChild.date;\n      this.postData.demand = this.dataFromChild.demand;\n      this.postData.AbsentRate = this.dataFromChild.not_show_rate;\n      axios.post('http://34.125.243.130:5000/set_parameter', this.postData).then(function (res) {\n        // handle the response data\n        // this.avg_day_p = res.data.average_daily_price;\n        console.log(_this.avg_day_p);\n        console.log(res.data);\n        tableData.length = 0;\n        for (var i = 0; i < res.data.cabin_info.length; i++) {\n          var inputData = {};\n          inputData.level_seat_number = res.data.cabin_info[i].level_seat_num;\n          inputData.price = res.data.cabin_info[i].price;\n          inputData.price_level = res.data.cabin_info[i].price_level;\n          tableData.push(inputData);\n        }\n        _this.table1.data = [].concat(tableData);\n        _this.avg_day_p = res.data.avaerge_daily_price;\n        // console.log(res.data);\n        console.log(tableData);\n      }).catch(function (error) {\n        // handle errors\n        console.error('Error fetching data:', error);\n      });\n    },\n    submit: function submit(data) {\n      this.dataFromChild = data;\n      this.fetchData();\n    }\n  }\n};",{"version":3,"names":["EditParameter","axios","PaperTable","tableColumns","tableData","components","data","avg_day_p","dataFromChild","table1","title","columns","concat","postData","date","demand","AbsentRate","flight_id","methods","fetchData","_this","not_show_rate","post","then","res","console","log","length","i","cabin_info","inputData","level_seat_number","level_seat_num","price","price_level","push","avaerge_daily_price","catch","error","submit"],"sources":["src/pages/ParameterSet.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"row\">\n      <edit-parameter @childClick=\"submit\"> </edit-parameter>\n  </div>\n  <hr>\n  <div></div>\n  <div class=\"row\">\n        <div class=\"col-12\">\n        <card :title=\"table1.title\">\n          <div slot=\"raw-content\" class=\"table-responsive\">\n            <paper-table :data=\"table1.data\" :columns=\"table1.columns\">\n            </paper-table>\n            <hr/>\n          <div class=\"cus_eq\"> Average Daily Price:   {{ avg_day_p }}</div>\n          </div>\n          \n        </card>\n      </div>\n      </div>\n  </div>\n  \n</template>\n<script>\nimport EditParameter from \"./UserProfile/EditParameter.vue\";\nimport axios from 'axios';\nimport { PaperTable } from \"@/components\";\nconst tableColumns = [\n    'Level_Seat_Number',\n    \"Price\",\n    \"Price_Level\",\n  ];\nconst tableData = [];\n\nexport default {\n  components: {\n    EditParameter,\n    PaperTable,\n    \n  },\n  data() {\n      return {\n        avg_day_p: null,\n        dataFromChild: {},\n        table1: {\n          title: \"艙位價格預估\",\n          columns: [...tableColumns],\n          data: [...tableData],\n        },\n        postData: {\n          date: \"2023-12-25\",\n          demand: 180,\n          AbsentRate: 0.09,\n          flight_id: 1,\n\n        },\n      };\n     \n    },\n\n  methods: {\n    fetchData(){\n\n      this.postData.date = this.dataFromChild.date;\n      this.postData.demand = this.dataFromChild.demand;\n      this.postData.AbsentRate = this.dataFromChild.not_show_rate;\n\n      axios.post('http://34.125.243.130:5000/set_parameter', this.postData)\n        .then(res => {\n          // handle the response data\n          // this.avg_day_p = res.data.average_daily_price;\n          console.log(this.avg_day_p);\n          console.log(res.data);\n          tableData.length = 0;\n          for(let i = 0; i < res.data.cabin_info.length; i++) {\n                const inputData = {};\n                inputData.level_seat_number = res.data.cabin_info[i].level_seat_num;\n                inputData.price = res.data.cabin_info[i].price;\n                inputData.price_level = res.data.cabin_info[i].price_level;\n\n                tableData.push(inputData);\n              \n           }\n           this.table1.data = [...tableData];\n           this.avg_day_p = res.data.avaerge_daily_price;\n          // console.log(res.data);\n          console.log(tableData);\n        })\n        .catch(error => {\n          // handle errors\n          console.error('Error fetching data:', error);\n        });\n    },\n  submit(data){\n    this.dataFromChild = data;\n    this.fetchData();\n  },\n    \n  },\n};\n  \n</script>\n<style></style>\n"],"mappings":"AAwBA,OAAAA,aAAA;AACA,OAAAC,KAAA;AACA,SAAAC,UAAA;AACA,IAAAC,YAAA,IACA,qBACA,SACA,cACA;AACA,IAAAC,SAAA;AAEA;EACAC,UAAA;IACAL,aAAA,EAAAA,aAAA;IACAE,UAAA,EAAAA;EAEA;EACAI,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,aAAA;MACAC,MAAA;QACAC,KAAA;QACAC,OAAA,KAAAC,MAAA,CAAAT,YAAA;QACAG,IAAA,KAAAM,MAAA,CAAAR,SAAA;MACA;MACAS,QAAA;QACAC,IAAA;QACAC,MAAA;QACAC,UAAA;QACAC,SAAA;MAEA;IACA;EAEA;EAEAC,OAAA;IACAC,SAAA,WAAAA,UAAA;MAAA,IAAAC,KAAA;MAEA,KAAAP,QAAA,CAAAC,IAAA,QAAAN,aAAA,CAAAM,IAAA;MACA,KAAAD,QAAA,CAAAE,MAAA,QAAAP,aAAA,CAAAO,MAAA;MACA,KAAAF,QAAA,CAAAG,UAAA,QAAAR,aAAA,CAAAa,aAAA;MAEApB,KAAA,CAAAqB,IAAA,kDAAAT,QAAA,EACAU,IAAA,WAAAC,GAAA;QACA;QACA;QACAC,OAAA,CAAAC,GAAA,CAAAN,KAAA,CAAAb,SAAA;QACAkB,OAAA,CAAAC,GAAA,CAAAF,GAAA,CAAAlB,IAAA;QACAF,SAAA,CAAAuB,MAAA;QACA,SAAAC,CAAA,MAAAA,CAAA,GAAAJ,GAAA,CAAAlB,IAAA,CAAAuB,UAAA,CAAAF,MAAA,EAAAC,CAAA;UACA,IAAAE,SAAA;UACAA,SAAA,CAAAC,iBAAA,GAAAP,GAAA,CAAAlB,IAAA,CAAAuB,UAAA,CAAAD,CAAA,EAAAI,cAAA;UACAF,SAAA,CAAAG,KAAA,GAAAT,GAAA,CAAAlB,IAAA,CAAAuB,UAAA,CAAAD,CAAA,EAAAK,KAAA;UACAH,SAAA,CAAAI,WAAA,GAAAV,GAAA,CAAAlB,IAAA,CAAAuB,UAAA,CAAAD,CAAA,EAAAM,WAAA;UAEA9B,SAAA,CAAA+B,IAAA,CAAAL,SAAA;QAEA;QACAV,KAAA,CAAAX,MAAA,CAAAH,IAAA,MAAAM,MAAA,CAAAR,SAAA;QACAgB,KAAA,CAAAb,SAAA,GAAAiB,GAAA,CAAAlB,IAAA,CAAA8B,mBAAA;QACA;QACAX,OAAA,CAAAC,GAAA,CAAAtB,SAAA;MACA,GACAiC,KAAA,WAAAC,KAAA;QACA;QACAb,OAAA,CAAAa,KAAA,yBAAAA,KAAA;MACA;IACA;IACAC,MAAA,WAAAA,OAAAjC,IAAA;MACA,KAAAE,aAAA,GAAAF,IAAA;MACA,KAAAa,SAAA;IACA;EAEA;AACA"}]}